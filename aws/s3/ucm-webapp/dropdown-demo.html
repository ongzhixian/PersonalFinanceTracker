<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dropdown Menu Component Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            background-color: #f8f9fa;
        }

        .demo-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .demo-item {
            padding: 15px;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
        }

        .demo-item h4 {
            margin-top: 0;
            color: #333;
        }

        .demo-item p {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .output {
            margin-top: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            color: #333;
            min-height: 20px;
        }

        .custom-width {
            width: 300px;
        }

        code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 13px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }

        h2 {
            color: #0066cc;
            border-bottom: 2px solid #e1e5e9;
            padding-bottom: 5px;
        }
    </style>
</head>
<body>
    <h1>Dropdown Menu Web Component Demo</h1>

    <div class="demo-section">
        <h2>Basic Examples</h2>
        <div class="demo-grid">
            <div class="demo-item">
                <h4>Basic Dropdown</h4>
                <p>Simple dropdown with predefined options</p>
                <dropdown-menu id="basic-dropdown" placeholder="Choose a fruit">
                    <option value="apple">Apple</option>
                    <option value="banana">Banana</option>
                    <option value="orange">Orange</option>
                    <option value="grape">Grape</option>
                    <option value="strawberry">Strawberry</option>
                </dropdown-menu>
                <div class="output" id="basic-output"></div>
            </div>

            <div class="demo-item">
                <h4>With Default Selection</h4>
                <p>Dropdown with a pre-selected option</p>
                <dropdown-menu id="default-dropdown" placeholder="Choose a color">
                    <option value="red">Red</option>
                    <option value="blue" selected>Blue</option>
                    <option value="green">Green</option>
                    <option value="yellow">Yellow</option>
                </dropdown-menu>
                <div class="output" id="default-output"></div>
            </div>

            <div class="demo-item">
                <h4>Disabled Dropdown</h4>
                <p>Dropdown that cannot be interacted with</p>
                <dropdown-menu disabled placeholder="Disabled dropdown">
                    <option value="option1">Option 1</option>
                    <option value="option2">Option 2</option>
                </dropdown-menu>
                <div class="output">Status: Disabled</div>
            </div>

            <div class="demo-item">
                <h4>Custom Width</h4>
                <p>Dropdown with custom CSS width</p>
                <dropdown-menu class="custom-width" id="wide-dropdown" placeholder="Choose a programming language">
                    <option value="javascript">JavaScript</option>
                    <option value="python">Python</option>
                    <option value="java">Java</option>
                    <option value="csharp">C#</option>
                    <option value="cpp">C++</option>
                    <option value="go">Go</option>
                    <option value="rust">Rust</option>
                </dropdown-menu>
                <div class="output" id="wide-output"></div>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>Advanced Features</h2>
        <div class="demo-grid">
            <div class="demo-item">
                <h4>Searchable Dropdown</h4>
                <p>Type to filter options</p>
                <dropdown-menu searchable id="searchable-dropdown" placeholder="Search countries">
                    <option value="us">United States</option>
                    <option value="ca">Canada</option>
                    <option value="uk">United Kingdom</option>
                    <option value="de">Germany</option>
                    <option value="fr">France</option>
                    <option value="jp">Japan</option>
                    <option value="au">Australia</option>
                    <option value="in">India</option>
                    <option value="br">Brazil</option>
                    <option value="mx">Mexico</option>
                </dropdown-menu>
                <div class="output" id="searchable-output"></div>
            </div>

            <div class="demo-item">
                <h4>Multiple Selection</h4>
                <p>Select multiple options with checkboxes</p>
                <dropdown-menu multiple id="multiple-dropdown" placeholder="Choose skills">
                    <option value="html">HTML</option>
                    <option value="css">CSS</option>
                    <option value="js">JavaScript</option>
                    <option value="react">React</option>
                    <option value="vue">Vue.js</option>
                    <option value="angular">Angular</option>
                    <option value="node">Node.js</option>
                    <option value="python">Python</option>
                </dropdown-menu>
                <div class="output" id="multiple-output"></div>
            </div>

            <div class="demo-item">
                <h4>Searchable + Multiple</h4>
                <p>Combined features: search and multiple selection</p>
                <dropdown-menu searchable multiple id="combo-dropdown" placeholder="Select frameworks">
                    <option value="react">React</option>
                    <option value="vue">Vue.js</option>
                    <option value="angular">Angular</option>
                    <option value="svelte">Svelte</option>
                    <option value="nextjs">Next.js</option>
                    <option value="nuxtjs">Nuxt.js</option>
                    <option value="gatsby">Gatsby</option>
                    <option value="express">Express.js</option>
                    <option value="fastapi">FastAPI</option>
                    <option value="django">Django</option>
                </dropdown-menu>
                <div class="output" id="combo-output"></div>
            </div>

            <div class="demo-item">
                <h4>With Disabled Options</h4>
                <p>Some options are disabled</p>
                <dropdown-menu id="disabled-options-dropdown" placeholder="Choose a plan">
                    <option value="free">Free Plan</option>
                    <option value="basic">Basic Plan - $9/month</option>
                    <option value="pro">Pro Plan - $19/month</option>
                    <option value="enterprise" disabled>Enterprise Plan - Coming Soon</option>
                    <option value="custom" disabled>Custom Plan - Contact Sales</option>
                </dropdown-menu>
                <div class="output" id="disabled-options-output"></div>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>Programmatic Control</h2>
        <div class="demo-grid">
            <div class="demo-item">
                <h4>Control via JavaScript</h4>
                <p>Use buttons to control the dropdown</p>
                <dropdown-menu id="controlled-dropdown" placeholder="Controlled dropdown">
                    <option value="option1">Option 1</option>
                    <option value="option2">Option 2</option>
                    <option value="option3">Option 3</option>
                </dropdown-menu>
                <div style="margin-top: 10px;">
                    <button onclick="setDropdownValue('option2')">Set to Option 2</button>
                    <button onclick="resetDropdown()">Reset</button>
                    <button onclick="getDropdownValue()">Get Value</button>
                </div>
                <div class="output" id="controlled-output"></div>
            </div>

            <div class="demo-item">
                <h4>Event Handling</h4>
                <p>Listen to dropdown events</p>
                <dropdown-menu id="events-dropdown" placeholder="Select an item">
                    <option value="item1">Item 1</option>
                    <option value="item2">Item 2</option>
                    <option value="item3">Item 3</option>
                </dropdown-menu>
                <div class="output" id="events-output">Events will appear here...</div>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>Usage Examples</h2>
        <h3>HTML:</h3>
        <pre><code>&lt;dropdown-menu placeholder="Choose an option"&gt;
    &lt;option value="value1"&gt;Option 1&lt;/option&gt;
    &lt;option value="value2" selected&gt;Option 2&lt;/option&gt;
    &lt;option value="value3" disabled&gt;Option 3&lt;/option&gt;
&lt;/dropdown-menu&gt;

&lt;!-- With attributes --&gt;
&lt;dropdown-menu searchable multiple placeholder="Multi-select"&gt;
    &lt;option value="a"&gt;Option A&lt;/option&gt;
    &lt;option value="b"&gt;Option B&lt;/option&gt;
&lt;/dropdown-menu&gt;</code></pre>

        <h3>JavaScript:</h3>
        <pre><code>// Get reference to dropdown
const dropdown = document.querySelector('dropdown-menu');

// Listen for changes
dropdown.addEventListener('change', (e) => {
    console.log('Selected:', e.detail.value, e.detail.text);
});

// Programmatic control
dropdown.setValue('value2');
const currentValue = dropdown.getValue();
dropdown.reset();</code></pre>

        <h3>Available Attributes:</h3>
        <ul>
            <li><code>placeholder</code> - Placeholder text when no option is selected</li>
            <li><code>disabled</code> - Disables the dropdown</li>
            <li><code>multiple</code> - Allows multiple selections</li>
            <li><code>searchable</code> - Adds a search input to filter options</li>
        </ul>

        <h3>Available Methods:</h3>
        <ul>
            <li><code>setValue(value)</code> - Set the selected value(s)</li>
            <li><code>getValue()</code> - Get the current selected value(s)</li>
            <li><code>reset()</code> - Clear all selections</li>
            <li><code>open()</code> - Open the dropdown</li>
            <li><code>close()</code> - Close the dropdown</li>
        </ul>

        <h3>Events:</h3>
        <ul>
            <li><code>change</code> - Fired when selection changes</li>
            <li><code>dropdown-open</code> - Fired when dropdown opens</li>
            <li><code>dropdown-close</code> - Fired when dropdown closes</li>
        </ul>
    </div>

    <script src="dropdown-menu.js"></script>
    <script>
        // Set up event listeners for all dropdowns
        document.querySelectorAll('dropdown-menu').forEach(dropdown => {
            const id = dropdown.id;
            if (id && document.getElementById(id + '-output')) {
                dropdown.addEventListener('change', (e) => {
                    const output = document.getElementById(id + '-output');
                    output.textContent = `Selected: ${JSON.stringify(e.detail.value)} (${JSON.stringify(e.detail.text)})`;
                });
            }
        });

        // Programmatic control functions
        function setDropdownValue(value) {
            const dropdown = document.getElementById('controlled-dropdown');
            dropdown.setValue(value);
            document.getElementById('controlled-output').textContent = `Set value to: ${value}`;
        }

        function resetDropdown() {
            const dropdown = document.getElementById('controlled-dropdown');
            dropdown.reset();
            document.getElementById('controlled-output').textContent = 'Dropdown reset';
        }

        function getDropdownValue() {
            const dropdown = document.getElementById('controlled-dropdown');
            const value = dropdown.getValue();
            document.getElementById('controlled-output').textContent = `Current value: ${value || 'None'}`;
        }

        // Event handling example
        const eventsDropdown = document.getElementById('events-dropdown');
        const eventsOutput = document.getElementById('events-output');

        eventsDropdown.addEventListener('change', (e) => {
            eventsOutput.innerHTML += `<br>change: ${JSON.stringify(e.detail)}`;
        });

        eventsDropdown.addEventListener('dropdown-open', () => {
            eventsOutput.innerHTML += '<br>dropdown-open';
        });

        eventsDropdown.addEventListener('dropdown-close', () => {
            eventsOutput.innerHTML += '<br>dropdown-close';
        });
    </script>
</body>
</html>
