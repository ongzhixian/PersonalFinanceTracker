<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="UCM" />
    <meta name="author" content="Ong Zhi Xian" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>UCM</title>
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/skeleton.css" />
    <link rel="stylesheet" href="css/site.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />

</head>
<body>

    <div class="container">

        <site-banner></site-banner>

        <site-navigation-bar></site-navigation-bar>

        <content-section></content-section>


        <!-- TOP-LEVEL CONTAINER

        <button id="loadContentButton" onclick="loadContent()">Load content</button>

        <test-content1 class=""></test-content1>

        <test-content2 class="hide"></test-content2>

        <div>
            <css-replica target-id="sampleButton"></css-replica>
        </div>

        <div class="row">
          <div class="one-half column">

            <button id="sampleButton">Sample</button>

          </div>
        </div>

        -->

    </div><!-- END OF TOP-LEVEL CONTAINER -->

    <script src="js/site.js" defer></script>
    <script src="components/site-banner.js" defer></script>
    <script src="components/site-navigation-bar.js" defer></script>
    <script src="components/content-section.js" defer></script>
    <!--<script src="components/content1.js" async defer></script>-->
    <!--<script src="components/content2.js" async defer></script>-->
    <script src="components/test-button.js" defer></script>
    <script src="components/css-replica.js" defer></script> 
    <script>

        const contentSection = document.getElementById('contentSection');
        let contentId = null;


        function loadContent() {

            if ((contentId === null) || (contentId === 'test-content2')) {
                import('./components/content1.js').then(() => {
                    contentSection.replaceChildren();
                    contentSection.appendChild(document.createElement('test-content1'));
                    contentId = 'test-content1';
                });
            }

            if (contentId === 'test-content1') {
                import('./components/content2.js').then(() => {
                    contentSection.replaceChildren();
                    contentSection.appendChild(document.createElement('test-content2'));
                    contentId = 'test-content2';
                });
            }

        }

        // Standard

        let loginHandler, uiHandler;
        function UiHandler(loginHandler) {
            this.loginHandler = loginHandler;

            this.refreshDisplay = function () {
                let hasCredentialJwt = loginHandler.hasCredentialJwt();
                if (hasCredentialJwt) {
                    // this.updateCredentialTable();
                    // this.contentPanel.classList.remove('hide'); // Show content panel
                    // this.loginPanel.classList.add('hide');      // Hide login panel
                } else {
                    // this.contentPanel.classList.add('hide');    // Hide content panel
                    // this.loginPanel.classList.remove('hide');   // Show login panel
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            loginHandler = new LoginHandler();
            uiHandler = new UiHandler(loginHandler);
            uiHandler.refreshDisplay();
        });

    </script>
</body>
</html>
